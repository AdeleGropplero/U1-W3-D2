<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      body {
        margin: 0;
      }

      body div,
      footer {
        padding: 1rem;
      }

      footer {
        padding: 1rem;
        background-color: black;
        color: white;
      }

      .myHeading {
        color: #ff00d6;
      }
    </style>
  </head>

  <body>
    <div>
      <h1>Questo è il titolo della pagina</h1>
      <h2>Questo è il sottotitolo della pagina</h2>
    </div>

    <div>
      <hr />

      <ul id="firstList">
        <li>1st</li>
        <li>2nd</li>
        <li>3rd</li>
      </ul>

      <ul id="secondList">
        <li>1st</li>
        <li>2nd</li>
        <li>3rd</li>
      </ul>

      <a href="https://epicode.com/it/">Questo link porta al sito di Epicode</a>

      <div>
        <p>Questo testo è un placeholder per gli esercizi</p>
      </div>
    </div>

    <div>
      <p>Anche questo testo è per gli esercizi</p>
      <h2 id="changeMyColor" style="color: #ff00d6">
        Apri questa pagina con VSCode per scoprire gli esercizi
      </h2>
    </div>

    <div id="tableArea"></div>

    <footer>
      <h3>
        DOM Manipulation is super
        <a
          href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents"
          >AWESOME!</a
        >
      </h3>
    </footer>
    <script>
      /* ESERCIZIO 1
         Scrivi una funzione per cambiare il titolo della pagina in qualcos'altro
      */
      const h1 = document.querySelector("h1");
      const changeTitle = function (testo) {
        h1.innerText = testo;
      };
      changeTitle("ho cambiato il titolo (dinamico)");

      /* ESERCIZIO 2
         Scrivi una funzione per aggiungere al titolo della pagina una classe "myHeading"
      */
      // h1.className = "myHeading";  METODO NON CONSIGLIATO

      const addClassToTitle = function (classe) {
        h1.classList.add(classe);
      };
      addClassToTitle("myHeading");

      /* ESERCIZIO 3
         Scrivi una funzione che cambi il testo dei p figli di un div
        */

      /* const divs = document.getElementsByTagName("div");
        const ps = document.getElementsByTagName("p");
        const changePcontent = function (testo) {
          div.p.innerText = testo;
        };
        changePcontent(
          "ho cambiato il testo di tutti i p che stavano dentro i div"
        );  */

      const divs = document.querySelectorAll("div p");
      console.log(divs);
      const changePcontent = function (testo) {
        for (let i = 0; i < divs.length; i++) {
          const ps = divs[i];
          ps.innerText = testo;
        }
      };
      changePcontent(
        "ho cambiato il testo di tutti i p che stavano dentro i div"
      );

      /* ESERCIZIO 4
         Scrivi una funzione che cambi la proprietà href di ogni link (tranne quello nel footer) con il valore https://www.google.com
        */

      const changeUrls = function (newLink) {
        const links = document.querySelectorAll("a:not(footer a)");
        for (let i = 0; i < links.length; i++) {
          links1 = links[i];
          links1.href = newLink;
        }
      };
      changeUrls("https://www.google.com");

      /* ESERCIZIO 5
         Scrivi una funzione che aggiunga un nuovo elemento lista alla seconda lista non ordinata
      */
      const ul2 = document.getElementById("secondList");
      const addToTheSecond = function (content) {
        const li4 = document.createElement("li");
        li4.innerText = content;
        ul2.appendChild(li4);
      };
      addToTheSecond("Testo del 4o li");

      /* ESERCIZIO 6
         Scrivi una funzione che aggiunga un paragrafo al primo div
      */
      const div1 = document.querySelector("div");
      const addParagraph = function (newP) {
        const p = document.createElement("p");
        p.innerText = newP;
        div1.appendChild(p);
      };
      addParagraph("Nuovo paragrafo aggiunto!!!");

      /* ESERCIZIO 7
         Scrivi una funzione che faccia scomparire la prima lista non ordinata
      */
      const ul1 = document.getElementById("firstList");
      const hideFirstUl = function () {
        ul1.style.display = "none";
      };
      ul1.onclick = hideFirstUl;
      /* Qui stiamo assegnando la funzione hideFirstUl come listener per l'evento di click.
        Quando scriviamo solo il nome della funzione senza le parentesi, stiamo facendo riferimento
        alla funzione stessa (non la stiamo eseguendo).
        Non ci sono parentesi dopo hideFirstUl, quindi la funzione non viene eseguita subito, ma solo al click.
        Questo permette di separare la logica del comportamento (nascondere la lista) dall'evento (il clic) stesso. */

      /* ESERCIZIO 8
         Scrivi una funzione che renda verde il background di ogni lista non ordinata
        */

      const paintItGreen = function () {
        const ul = document.querySelectorAll("ul");
        for (let i = 0; i < ul.length; i++) {
          const ulTot = ul[i];
          ulTot.style.backgroundColor = "rgb( 14 91 2 / 70% )";
        }
      };
      paintItGreen();

      /* ESERCIZIO 9
         Scrivi una funzione che rimuova l'ultima lettera dall'h1 ogni volta che l'utente lo clicca
        */

      const makeItClickable = function () {
        h1.textContent = h1.textContent.slice(0, -1);
      };
      h1.onclick = makeItClickable;

      /* ESERCIZIO 10
         Crea una funzione che, al click sul footer, riveli l'URL del link interno come contenuto di un alert()
        */
      const footerA = document.querySelector("footer a");
      const revealFooterLink = function () {
        footerA.onclick = function () {
          const url = footerA.getAttribute("href");

          alert(url);
        };
      };
      revealFooterLink();
      //revealFooterLink(alert());

      /* ESERCIZIO 11
         Crea una funzione che crei una tabella nell'elemento con id "tableArea".
         La tabella avrà 5 elementi e questa struttura: immagine, nome prodotto, quantità, prezzo
      */
      const generateTable = function () {
        const container = document.getElementById("tableArea");
        const table = document.createElement("table");
        table.style.width = "100%";

        const firstRow = document.createElement("tr");

        const th1 = document.createElement("th");
        th1.innerText = "Immagine";

        const th2 = document.createElement("th");
        th2.innerText = "Nome prodotto";

        const th3 = document.createElement("th");
        th3.innerText = "Quantità";

        const th4 = document.createElement("th");
        th4.innerText = "Prezzo";

        firstRow.appendChild(th1);
        firstRow.appendChild(th2);
        firstRow.appendChild(th3);
        firstRow.appendChild(th4);

        table.appendChild(firstRow);
        container.appendChild(table);

        const secondRow = document.createElement("tr");
        const tdimg1 = document.createElement("td");
        const tdimg = document.createElement("img");
        tdimg.src =
          "https://images.unsplash.com/photo-1729002125469-b5304d64de55?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxmZWF0dXJlZC1waG90b3MtZmVlZHw0fHx8ZW58MHx8fHx8";
        tdimg.style.width = "300px";

        const td2 = document.createElement("td");
        td2.innerText = "lucciole";

        const td3 = document.createElement("td");
        td3.innerText = 8;

        const td4 = document.createElement("td");
        td4.innerText = 79;

        secondRow.append(tdimg1, td2, td3, td4);
        tdimg1.appendChild(tdimg);

        table.append(secondRow);
      };
      generateTable();

      /* ESERCIZIO 12
         Crea una funzione che aggiunga una riga alla tabella precedentemente creata e fornisca i dati necessari come parametri
      */

      const addRow = function () {};

      /* ESERCIZIO 14
        Crea una funzione che nasconda le immagini della tabella quando eseguita
      */

      const hideAllImages = function () {};

      /* EXTRA ESERCIZIO 15
        Crea una funzione che cambi il colore del h2 con id "changeMyColor" con un colore random ad ogni click ricevuto
      */

      const changeColorWithRandom = function () {};
    </script>
  </body>
</html>
